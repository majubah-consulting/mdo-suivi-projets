<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MDO - Suivi Projets Entrepreneuriaux</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #194759 0%, #416573 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 500px;
            width: 100%;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo svg {
            width: 80px;
            height: 80px;
        }
        
        h1 {
            color: #194759;
            text-align: center;
            font-size: 1.8em;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .welcome {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .btn-group {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        button {
            flex: 1;
            padding: 20px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 15px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        button.student {
            border-color: #194759;
            color: #194759;
        }
        
        button.student:hover {
            background: #194759;
            color: white;
        }
        
        button.teacher {
            border-color: #eb5436;
            color: #eb5436;
        }
        
        button.teacher:hover {
            background: #eb5436;
            color: white;
        }
        
        .login-form {
            display: none;
            animation: fadeIn 0.3s;
        }
        
        .login-form.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        label {
            display: block;
            color: #333;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95em;
        }
        
        select, input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1em;
            margin-bottom: 20px;
            transition: border 0.3s;
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: #194759;
        }
        
        .submit-btn {
            width: 100%;
            padding: 18px;
            background: #eb5436;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .submit-btn:hover {
            background: #194759;
            transform: scale(1.02);
        }
        
        .back-btn {
            width: 100%;
            padding: 12px;
            background: transparent;
            color: #666;
            border: 1px solid #ddd;
            border-radius: 10px;
            margin-top: 10px;
            cursor: pointer;
        }
        
        .back-btn:hover {
            background: #f5f5f5;
        }
        
        .footer {
            margin-top: 30px;
            text-align: center;
            color: #999;
            font-size: 0.9em;
        }
        
        .success-message {
            background: #4CAF50;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
            display: none;
        }
        
        .error-message {
            background: #f44336;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Logo -->
        <div class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
                <ellipse cx="100" cy="90" rx="50" ry="45" fill="#194759"/>
                <ellipse cx="80" cy="85" rx="8" ry="12" fill="#eb5436"/>
                <ellipse cx="120" cy="85" rx="8" ry="12" fill="#eb5436"/>
                <path d="M 75 110 Q 100 120 125 110" stroke="#eb5436" stroke-width="3" fill="none"/>
                <circle cx="60" cy="75" r="3" fill="#194759"/>
                <circle cx="140" cy="75" r="3" fill="#194759"/>
            </svg>
        </div>
        
        <h1>MDO - Suivi Projets</h1>
        <p class="subtitle">Entrepreneuriaux 2024-2026</p>
        
        <!-- Choix du type d'utilisateur -->
        <div id="user-choice">
            <div class="welcome">
                <p>üëã Bienvenue sur votre espace de suivi personnalis√©</p>
            </div>
            
            <div class="btn-group">
                <button class="student" onclick="showStudentForm()">
                    <div style="font-size: 2em; margin-bottom: 10px;">üìö</div>
                    √âtudiant
                </button>
                
                <button class="teacher" onclick="showTeacherForm()">
                    <div style="font-size: 2em; margin-bottom: 10px;">üë®‚Äçüè´</div>
                    Formateur
                </button>
            </div>
        </div>
        
        <!-- Formulaire √âtudiant -->
        <div id="student-form" class="login-form">
            <label>S√©lectionnez votre nom</label>
            <select id="student-select">
                <option value="">-- Choisissez votre nom --</option>
                <option value="MDO-001">MDO-001 - Chlo√© BARBIER</option>
                <option value="MDO-002">MDO-002 - Floryane BELHAIRE</option>
                <option value="MDO-003">MDO-003 - Marylene BOUCHARD</option>
                <option value="MDO-004">MDO-004 - Paul CAMPORRO</option>
                <option value="MDO-005">MDO-005 - Louis CHALLOIS</option>
                <option value="MDO-006">MDO-006 - Charlene DEROUIN</option>
                <option value="MDO-007">MDO-007 - Zoe DIARD</option>
                <option value="MDO-008">MDO-008 - Victor DUCHESNE</option>
                <option value="MDO-009">MDO-009 - Matheo GAILLARD</option>
                <option value="MDO-010">MDO-010 - Clara GAUTIER</option>
                <option value="MDO-011">MDO-011 - Charly GUILLOUET</option>
                <option value="MDO-012">MDO-012 - Stanislas JOOS</option>
                <option value="MDO-013">MDO-013 - Justine JOUANNET</option>
                <option value="MDO-014">MDO-014 - Julie LAMOTTE GOIMIER</option>
                <option value="MDO-015">MDO-015 - Margaux LE SURTEL</option>
                <option value="MDO-016">MDO-016 - Charlene LEDARD</option>
                <option value="MDO-017">MDO-017 - Kylian MARAIS</option>
                <option value="MDO-018">MDO-018 - Paul MARIN</option>
                <option value="MDO-019">MDO-019 - Hugo VALTIER</option>
            </select>
            
            <button class="submit-btn" onclick="loginStudent()">Connexion</button>
            <button class="back-btn" onclick="showChoice()">‚Üê Retour</button>
        </div>
        
        <!-- Formulaire Formateur -->
        <div id="teacher-form" class="login-form">
            <label>Mot de passe formateur</label>
            <input type="password" id="teacher-password" placeholder="Entrez le mot de passe">
            
            <button class="submit-btn" onclick="loginTeacher()">Connexion</button>
            <button class="back-btn" onclick="showChoice()">‚Üê Retour</button>
        </div>
        
        <!-- Messages -->
        <div id="success-msg" class="success-message"></div>
        <div id="error-msg" class="error-message"></div>
        
        <!-- Footer -->
        <div class="footer">
            üêÜ MAJUBAH CONSULTING ¬© 2025
        </div>
    </div>
    
    <script>
        // Configuration Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyCbIINol2HAL2qHzR3hUg2j9e-01-8oQiQ",
            authDomain: "mdo-majubah-2025.firebaseapp.com",
            projectId: "mdo-majubah-2025",
            storageBucket: "mdo-majubah-2025.firebasestorage.app",
            messagingSenderId: "797761054593",
            appId: "1:797761054593:web:8e6eae03cec23f32672a80"
        };
        
        // Initialisation Firebase
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const db = firebase.firestore();
        
        // Liste des √©tudiants
        const students = {
            'MDO-001': 'Chlo√© BARBIER',
            'MDO-002': 'Floryane BELHAIRE',
            'MDO-003': 'Marylene BOUCHARD',
            'MDO-004': 'Paul CAMPORRO',
            'MDO-005': 'Louis CHALLOIS',
            'MDO-006': 'Charlene DEROUIN',
            'MDO-007': 'Zoe DIARD',
            'MDO-008': 'Victor DUCHESNE',
            'MDO-009': 'Matheo GAILLARD',
            'MDO-010': 'Clara GAUTIER',
            'MDO-011': 'Charly GUILLOUET',
            'MDO-012': 'Stanislas JOOS',
            'MDO-013': 'Justine JOUANNET',
            'MDO-014': 'Julie LAMOTTE GOIMIER',
            'MDO-015': 'Margaux LE SURTEL',
            'MDO-016': 'Charlene LEDARD',
            'MDO-017': 'Kylian MARAIS',
            'MDO-018': 'Paul MARIN',
            'MDO-019': 'Hugo VALTIER'
        };
        
        // Afficher/Cacher les formulaires
        function showChoice() {
            document.getElementById('user-choice').style.display = 'block';
            document.getElementById('student-form').classList.remove('active');
            document.getElementById('teacher-form').classList.remove('active');
            hideMessages();
        }
        
        function showStudentForm() {
            document.getElementById('user-choice').style.display = 'none';
            document.getElementById('student-form').classList.add('active');
            hideMessages();
        }
        
        function showTeacherForm() {
            document.getElementById('user-choice').style.display = 'none';
            document.getElementById('teacher-form').classList.add('active');
            hideMessages();
        }
        
        function hideMessages() {
            document.getElementById('success-msg').style.display = 'none';
            document.getElementById('error-msg').style.display = 'none';
        }
        
        function showSuccess(msg) {
            const el = document.getElementById('success-msg');
            el.textContent = msg;
            el.style.display = 'block';
        }
        
        function showError(msg) {
            const el = document.getElementById('error-msg');
            el.textContent = msg;
            el.style.display = 'block';
        }
        
        // Connexion √âtudiant
        function loginStudent() {
            const studentId = document.getElementById('student-select').value;
            
            if (!studentId) {
                showError('‚ö†Ô∏è Veuillez s√©lectionner votre nom');
                return;
            }
            
            console.log('‚úÖ Connexion √©tudiant:', studentId, students[studentId]);
            
            // Sauvegarder dans localStorage
            localStorage.setItem('userType', 'student');
            localStorage.setItem('studentId', studentId);
            localStorage.setItem('studentName', students[studentId]);
            
            showSuccess('‚úÖ Connexion r√©ussie ! Redirection...');
            
            // Rediriger vers le dashboard √©tudiant
            setTimeout(() => {
                window.location.href = 'student.html?id=' + studentId;
            }, 1000);
        }
        
        // Connexion Formateur
        function loginTeacher() {
            const password = document.getElementById('teacher-password').value;
            
            if (password === 'admin2026') {
                console.log('‚úÖ Connexion formateur r√©ussie');
                
                localStorage.setItem('userType', 'teacher');
                
                showSuccess('‚úÖ Connexion r√©ussie ! Redirection...');
                
                setTimeout(() => {
                    window.location.href = 'teacher.html';
                }, 1000);
            } else {
                showError('‚ùå Mot de passe incorrect');
            }
        }
        
        // Test Firebase au chargement
        console.log('üî• Firebase initialis√©');
        console.log('üì¶ Firestore:', db ? 'OK' : 'ERROR');
    </script>
</body>
</html>
